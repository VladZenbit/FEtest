(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{2149:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit-movie/[id]",function(){return t(4852)}])},2407:(e,n,t)=>{"use strict";var r=t(4994);n.A=void 0;var i=r(t(4888)),o=t(4848);n.A=(0,i.default)((0,o.jsx)("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5m-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2"}),"AddAPhoto")},6634:(e,n,t)=>{"use strict";var r=t(4994);n.A=void 0;var i=r(t(4888)),o=t(4848);n.A=(0,i.default)((0,o.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"GetApp")},4888:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=t(281)},281:(e,n,t)=>{"use strict";t.r(n),t.d(n,{capitalize:()=>i.A,createChainedFunction:()=>o,createSvgIcon:()=>l.A,debounce:()=>a,deprecatedPropType:()=>u,isMuiElement:()=>s,ownerDocument:()=>d,ownerWindow:()=>p,requirePropFactory:()=>f,setRef:()=>x,unstable_ClassNameGenerator:()=>I,unstable_useEnhancedEffect:()=>g.A,unstable_useId:()=>h.A,unsupportedProp:()=>m,useControlled:()=>y.A,useEventCallback:()=>v.A,useForkRef:()=>A.A,useIsFocusVisible:()=>b.A});var r=t(2067),i=t(7306);let o=function(...e){return e.reduce((e,n)=>null==n?e:function(...t){e.apply(this,t),n.apply(this,t)},()=>{})};var l=t(8448);let a=t(4965).A,u=function(e,n){return()=>null};var c=t(6540);let s=function(e,n){var t,r;return c.isValidElement(e)&&-1!==n.indexOf(null!=(t=e.type.muiName)?t:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)},d=t(6249).A,p=t(1489).A;t(8168);let f=function(e,n){return()=>null},x=t(3721).A;var g=t(706),h=t(8926);let m=function(e,n,t,r,i){return null};var y=t(4096),v=t(6243),A=t(3372),b=t(8688);let I={configure:e=>{r.A.configure(e)}}},9302:(e,n,t)=>{"use strict";t.d(n,{N_:()=>d,pp:()=>x,Ao:()=>h});var r=t(4848),i=t(4577),o=t(2912),l=t(3552),a=t(7871),u=t(6354);function c(){let e=(0,i._)(["\n  border-radius: 10px !important;\n  letter-spacing: 2px;\n  font-weight: ",";\n  text-transform: ",";\n  flex-shrink: 0;\n  border-radius: 3px;\n  color: ",";\n  border: 1px solid ",";\n  padding: 15px 20px !important;\n  width: 150px;\n"]);return c=function(){return e},e}let s=(0,l.Ay)(o.A)(c(),u.IT.BOLD,u.Ms.CAPITALIZE,a.Jy.WHITE,a.Jy.WHITE);function d(e){let{text:n,icon:t,loading:i=!1,color:o="primary",onClick:l,type:a="button",disabled:u=!1,noBorderRadius:c=!1,size:d}=e;return(0,r.jsx)(s,{noborderradius:c,loading:i,variant:"outlined",onClick:e=>{e.stopPropagation(),l&&l()},disabled:u,endIcon:t,color:o,type:a,size:d,children:n})}function p(){let e=(0,i._)(["\n  background-color: ",";\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  text-transform: capitalize;\n  letter-spacing: 1.25px;\n  border-radius: 10px;\n  padding: 15px 20px;\n  min-width: 150px;\n  white-space: nowrap;\n\n  svg {\n    color: ",";\n  }\n\n  &.MuiCircularProgress {\n    color: ",";\n\n    svg {\n      color: ",";\n    }\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    opacity: 0.8;\n\n    .MuiLoadingButton-loadingIndicator {\n      color: ",";\n    }\n  }\n"]);return p=function(){return e},e}let f=(0,l.Ay)(o.A)(p(),e=>{let{secondary:n}=e;return n?a.Jy.SECONDARY:a.Jy.PRIMARY},a.Jy.WHITE,a.Z4.DEFAULT,a.IT.BOLD,a.Jy.PRIMARY,a.Jy.PRIMARY,a.Jy.PRIMARY,e=>{let{secondary:n}=e;return n?a.Jy.SECONDARY:a.Jy.PRIMARY},e=>{let{secondary:n}=e;return n?a.Jy.SECONDARY:a.Jy.PRIMARY},a.Jy.WHITE);function x(e){let{text:n,onClick:t,loading:i=!1,disabled:o=!1,secondary:l=!1,width:a="150px",type:u="button",sx:c}=e;return(0,r.jsx)(f,{loading:i,variant:"contained",secondary:l,onClick:e=>{e.stopPropagation(),t&&t()},disabled:i||o,type:u,sx:{width:a,...c},children:n})}var g=t(9686);function h(e){let{text:n,color:t="primary",onClick:i,type:o="button",disabled:l=!1,whiteSpace:u="nowrap",dataTestId:c}=e;return(0,r.jsx)(g.A,{variant:"text",color:t,type:o,onClick:e=>{e.stopPropagation(),i&&i(e)},disabled:l,"data-testid":c,sx:{whiteSpace:u,textTransform:"none",color:a.Jy.WHITE,fontWeight:a.IT.BOLD},children:n})}},3119:(e,n,t)=>{"use strict";t.d(n,{X:()=>E});var r=t(4848),i=t(6540),o=t(6634);let l={imgFileTypes:["image/jpeg","image/png","image/jpg"],maxSize:1};var a=t(9571),u=t(2635);let c=(e,n,t)=>e.includes(t.type)?!(t.size>1048576*n)||(a.oR.error((0,u.t)("common.fileSizeExceeded",{maxSize:l.maxSize})),!1):(a.oR.error((0,u.t)("common.invalidFileType")),!1);var s=t(4577),d=t(2407),p=t(3552),f=t(7871);function x(){let e=(0,s._)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n  border-radius: 10px;\n  cursor: pointer;\n  background: ",";\n  height: 500px;\n  width: 470px;\n  border: 2px dashed ",";\n"]);return x=function(){return e},e}function g(){let e=(0,s._)(["\n  background-color: lightgray;\n  background-image: url(",");\n  background-size: cover;\n  background-position: center;\n  width: 100%;\n  height: 100%;\n"]);return g=function(){return e},e}function h(){let e=(0,s._)(["\n  width: 40px;\n  height: 40px;\n  color: ",";\n"]);return h=function(){return e},e}function m(){let e=(0,s._)(["\n  font-size: ",";\n  color: ",";\n  opacity: 0.8;\n  width: 100%;\n  line-height: 1.2;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  gap: 8px;\n"]);return m=function(){return e},e}function y(){let e=(0,s._)(["\n  display: none;\n"]);return y=function(){return e},e}let v=(0,p.Ay)("div")(x(),f.Jy.INPUT,f.Jy.WHITE),A=(0,p.Ay)("div")(g(),e=>e.backgroundImage);(0,p.Ay)(d.A)(h(),f.Jy.WHITE);let b=(0,p.Ay)("p")(m(),f.Z4.SMALL,f.Jy.WHITE),I=(0,p.Ay)("input")(y());function E(e){let{setFile:n,accept:t="image/*"}=e,[a,u]=(0,i.useState)(null),s=(0,i.useRef)(null),d=e=>{let n=new FileReader;n.onloadend=()=>{u(n.result)},n.readAsDataURL(e)},p=e=>{if(e&&e[0]){let t=e[0];n(t),d(t)}},f=e=>{c(l.imgFileTypes,l.maxSize,e[0])&&p(e)};return(0,r.jsxs)(v,{onClick:()=>{var e;null===(e=s.current)||void 0===e||e.click()},onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();let{files:n}=e.dataTransfer;f(n)},children:[a?(0,r.jsx)(A,{backgroundImage:a}):(0,r.jsxs)(b,{children:[(0,r.jsx)(o.A,{}),"Drop an image here"]}),(0,r.jsx)(I,{type:"file",ref:s,onChange:e=>{let{files:n}=e.target;n&&f(n)},accept:t})]})}},8489:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(4848),i=t(9785);function o(e){let{children:n,onSubmit:t,methods:o}=e;return(0,r.jsx)(i.Op,{...o,children:(0,r.jsx)("form",{onSubmit:t,children:n})})}},4852:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>b});var r=t(4848),i=t(6540),o=t(9785),l=t(9571),a=t(5973),u=t(2413),c=t(3058),s=t(8034),d=t(2635),p=t(6715),f=t(9302),x=t(3119),g=t(8489),h=t(7871),m=t(2599),y=t(9035),v=t(2664);let A=v.Ik({title:v.Yj().trim().required("common.titleRequired"),publishedYear:v.Yj().required("common.publishedYearRequired")});function b(){let e=(0,p.useRouter)(),{id:n}=e.query,[t,v]=(0,i.useState)(null),[b,I]=(0,i.useState)(""),[E,T]=(0,i.useState)(""),{data:j,isLoading:R}=(0,y.qy)("string"==typeof n?n:"",{skip:!n}),[_]=(0,y.ik)(),k=(0,o.mN)({resolver:(0,a.t)(A),defaultValues:{title:"",publishedYear:""},mode:"onTouched"}),{handleSubmit:w,reset:J,setValue:D}=k;(0,i.useEffect)(()=>{j&&(D("title",j.title),D("publishedYear",j.publishingYear),I(j.title),T(j.publishingYear))},[j,D,R]);let C=()=>{J(),v(null),e.push(m.w.DASHBOARD)},P=async e=>{try{var n;let r=new FormData;r.append("title",e.title),r.append("publishingYear",e.publishedYear),t instanceof File&&r.append("movieImg",t),await _({id:null!==(n=null==j?void 0:j.id)&&void 0!==n?n:"",formData:r}).unwrap(),l.oR.success((0,d.t)("common.movieUpdated")),C()}catch(e){l.oR.success((0,d.t)("common.movieUpdatedDelete"))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{variant:"h2",sx:{color:h.Jy.WHITE},marginBottom:"120px",children:(0,d.t)("common.edit")}),(0,r.jsx)(g.A,{methods:k,onSubmit:w(P),children:(0,r.jsxs)(c.A,{display:"flex",gap:"120px",children:[(0,r.jsx)(x.X,{setFile:v}),(0,r.jsxs)(c.A,{display:"flex",flexDirection:"column",gap:"64px",children:[(0,r.jsxs)(c.A,{display:"flex",flexDirection:"column",gap:"24px",children:[(0,r.jsx)(s.A,{name:"title",value:b,autoComplete:"off",placeholder:"Title",sx:{borderRadius:"10px",width:"360px",background:h.Jy.INPUT,color:h.Jy.WHITE,"&::placeholder":{color:h.Jy.WHITE}},onChange:e=>{D("title",e.target.value),I(e.target.value)}}),(0,r.jsx)(s.A,{name:"publishedYear",autoComplete:"off",placeholder:"Published year",value:E,sx:{borderRadius:"10px",width:"215px",background:h.Jy.INPUT,color:h.Jy.WHITE,"&::placeholder":{color:h.Jy.WHITE}},onChange:e=>{D("publishedYear",e.target.value),T(e.target.value)}})]}),(0,r.jsxs)(c.A,{display:"flex",gap:"16px",alignItems:"center",children:[(0,r.jsx)(f.N_,{text:"Cancel",onClick:C}),(0,r.jsx)(f.pp,{text:"Update",type:"submit"})]})]})]})})]})}},2599:(e,n,t)=>{"use strict";t.d(n,{w:()=>r.A});var r=t(9351)},9351:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var r=function(e){return e.DASHBOARD="/dashboard",e.LOGIN="/login",e.CREATE_MOVIE="/create-movie",e.EDIT_MOVIE="/edit-movie",e.NOT_FOUND="*",e}(r||{});let i=r}},e=>{var n=n=>e(e.s=n);e.O(0,[95,491,636,593,792],()=>n(2149)),_N_E=e.O()}]);